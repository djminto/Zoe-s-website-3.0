{"ast":null,"code":"// Social Authentication Service\n\n// Generate a mock OAuth token\nconst generateMockToken = (provider, email, name) => {\n  return {\n    provider,\n    email,\n    name,\n    id: Date.now().toString(),\n    timestamp: new Date().toISOString()\n  };\n};\nexport const handleGoogleLogin = async (setError, setSuccess) => {\n  try {\n    // In production, you would use: @react-oauth/google package\n    // and call: googleLogin() from the GoogleLogin component\n\n    // For demo purposes, we'll simulate Google login\n    const mockGoogleUser = {\n      email: prompt('Enter email for demo Google login:') || 'user@gmail.com',\n      name: prompt('Enter name for demo Google login:') || 'Google User'\n    };\n    if (!mockGoogleUser.email || mockGoogleUser.email === '') {\n      setError('Google login cancelled');\n      return null;\n    }\n    const token = generateMockToken('google', mockGoogleUser.email, mockGoogleUser.name);\n\n    // Store the social login token\n    localStorage.setItem('socialAuthToken', JSON.stringify(token));\n\n    // Check if user exists, if not create new user\n    const users = JSON.parse(localStorage.getItem('users') || '[]');\n    let user = users.find(u => u.email === mockGoogleUser.email);\n    if (!user) {\n      user = {\n        id: Date.now().toString(),\n        email: mockGoogleUser.email,\n        username: mockGoogleUser.name.split(' ')[0],\n        firstName: mockGoogleUser.name.split(' ')[0],\n        lastName: mockGoogleUser.name.split(' ')[1] || '',\n        password: Math.random().toString(36).substr(2, 9),\n        // Random password\n        role: 'user',\n        profilePicture: null,\n        createdAt: new Date().toISOString(),\n        socialAuth: 'google'\n      };\n      users.push(user);\n      localStorage.setItem('users', JSON.stringify(users));\n    }\n    setSuccess(`Welcome back, ${user.firstName}!`);\n    return user;\n  } catch (error) {\n    setError('Google login failed. Please try again.');\n    console.error('Google login error:', error);\n    return null;\n  }\n};\nexport const handleFacebookLogin = async (setError, setSuccess) => {\n  try {\n    // In production, you would use: react-facebook-login package\n    // and call: facebookLogin() from the FacebookLogin component\n\n    // For demo purposes, we'll simulate Facebook login\n    const mockFacebookUser = {\n      email: prompt('Enter email for demo Facebook login:') || 'user@facebook.com',\n      name: prompt('Enter name for demo Facebook login:') || 'Facebook User'\n    };\n    if (!mockFacebookUser.email || mockFacebookUser.email === '') {\n      setError('Facebook login cancelled');\n      return null;\n    }\n    const token = generateMockToken('facebook', mockFacebookUser.email, mockFacebookUser.name);\n\n    // Store the social login token\n    localStorage.setItem('socialAuthToken', JSON.stringify(token));\n\n    // Check if user exists, if not create new user\n    const users = JSON.parse(localStorage.getItem('users') || '[]');\n    let user = users.find(u => u.email === mockFacebookUser.email);\n    if (!user) {\n      user = {\n        id: Date.now().toString(),\n        email: mockFacebookUser.email,\n        username: mockFacebookUser.name.split(' ')[0],\n        firstName: mockFacebookUser.name.split(' ')[0],\n        lastName: mockFacebookUser.name.split(' ')[1] || '',\n        password: Math.random().toString(36).substr(2, 9),\n        // Random password\n        role: 'user',\n        profilePicture: null,\n        createdAt: new Date().toISOString(),\n        socialAuth: 'facebook'\n      };\n      users.push(user);\n      localStorage.setItem('users', JSON.stringify(users));\n    }\n    setSuccess(`Welcome back, ${user.firstName}!`);\n    return user;\n  } catch (error) {\n    setError('Facebook login failed. Please try again.');\n    console.error('Facebook login error:', error);\n    return null;\n  }\n};\nexport const getSocialAuthToken = () => {\n  const token = localStorage.getItem('socialAuthToken');\n  return token ? JSON.parse(token) : null;\n};\nexport const clearSocialAuthToken = () => {\n  localStorage.removeItem('socialAuthToken');\n};\n\n// Production setup instructions for real OAuth:\n/*\r\nGOOGLE OAUTH SETUP:\r\n1. Install: npm install @react-oauth/google\r\n2. Get credentials from: https://console.cloud.google.com/\r\n3. Wrap app with GoogleOAuthProvider in main App component\r\n4. Use GoogleLogin component\r\n\r\nFACEBOOK OAUTH SETUP:\r\n1. Install: npm install react-facebook-login\r\n2. Get App ID from: https://developers.facebook.com/\r\n3. Add Facebook SDK to public/index.html\r\n4. Use FacebookLogin component\r\n\r\nExample production code:\r\nimport { GoogleLogin } from '@react-oauth/google';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\n// In component:\r\n<GoogleLogin\r\n  onSuccess={handleGoogleSuccess}\r\n  onError={handleGoogleError}\r\n/>\r\n\r\n<FacebookLogin\r\n  appId=\"YOUR_APP_ID\"\r\n  autoLoad={false}\r\n  fields=\"name,email,picture\"\r\n  onClick={handleFacebookClick}\r\n  callback={handleFacebookResponse}\r\n/>\r\n*/","map":{"version":3,"names":["generateMockToken","provider","email","name","id","Date","now","toString","timestamp","toISOString","handleGoogleLogin","setError","setSuccess","mockGoogleUser","prompt","token","localStorage","setItem","JSON","stringify","users","parse","getItem","user","find","u","username","split","firstName","lastName","password","Math","random","substr","role","profilePicture","createdAt","socialAuth","push","error","console","handleFacebookLogin","mockFacebookUser","getSocialAuthToken","clearSocialAuthToken","removeItem"],"sources":["C:/Users/Daniel Minto/OneDrive/Desktop/Zoe's website 3.0/react-frontend/src/services/socialAuthService.js"],"sourcesContent":["// Social Authentication Service\r\n\r\n// Generate a mock OAuth token\r\nconst generateMockToken = (provider, email, name) => {\r\n  return {\r\n    provider,\r\n    email,\r\n    name,\r\n    id: Date.now().toString(),\r\n    timestamp: new Date().toISOString()\r\n  };\r\n};\r\n\r\nexport const handleGoogleLogin = async (setError, setSuccess) => {\r\n  try {\r\n    // In production, you would use: @react-oauth/google package\r\n    // and call: googleLogin() from the GoogleLogin component\r\n    \r\n    // For demo purposes, we'll simulate Google login\r\n    const mockGoogleUser = {\r\n      email: prompt('Enter email for demo Google login:') || 'user@gmail.com',\r\n      name: prompt('Enter name for demo Google login:') || 'Google User'\r\n    };\r\n\r\n    if (!mockGoogleUser.email || mockGoogleUser.email === '') {\r\n      setError('Google login cancelled');\r\n      return null;\r\n    }\r\n\r\n    const token = generateMockToken('google', mockGoogleUser.email, mockGoogleUser.name);\r\n    \r\n    // Store the social login token\r\n    localStorage.setItem('socialAuthToken', JSON.stringify(token));\r\n\r\n    // Check if user exists, if not create new user\r\n    const users = JSON.parse(localStorage.getItem('users') || '[]');\r\n    let user = users.find(u => u.email === mockGoogleUser.email);\r\n\r\n    if (!user) {\r\n      user = {\r\n        id: Date.now().toString(),\r\n        email: mockGoogleUser.email,\r\n        username: mockGoogleUser.name.split(' ')[0],\r\n        firstName: mockGoogleUser.name.split(' ')[0],\r\n        lastName: mockGoogleUser.name.split(' ')[1] || '',\r\n        password: Math.random().toString(36).substr(2, 9), // Random password\r\n        role: 'user',\r\n        profilePicture: null,\r\n        createdAt: new Date().toISOString(),\r\n        socialAuth: 'google'\r\n      };\r\n\r\n      users.push(user);\r\n      localStorage.setItem('users', JSON.stringify(users));\r\n    }\r\n\r\n    setSuccess(`Welcome back, ${user.firstName}!`);\r\n    return user;\r\n  } catch (error) {\r\n    setError('Google login failed. Please try again.');\r\n    console.error('Google login error:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const handleFacebookLogin = async (setError, setSuccess) => {\r\n  try {\r\n    // In production, you would use: react-facebook-login package\r\n    // and call: facebookLogin() from the FacebookLogin component\r\n    \r\n    // For demo purposes, we'll simulate Facebook login\r\n    const mockFacebookUser = {\r\n      email: prompt('Enter email for demo Facebook login:') || 'user@facebook.com',\r\n      name: prompt('Enter name for demo Facebook login:') || 'Facebook User'\r\n    };\r\n\r\n    if (!mockFacebookUser.email || mockFacebookUser.email === '') {\r\n      setError('Facebook login cancelled');\r\n      return null;\r\n    }\r\n\r\n    const token = generateMockToken('facebook', mockFacebookUser.email, mockFacebookUser.name);\r\n    \r\n    // Store the social login token\r\n    localStorage.setItem('socialAuthToken', JSON.stringify(token));\r\n\r\n    // Check if user exists, if not create new user\r\n    const users = JSON.parse(localStorage.getItem('users') || '[]');\r\n    let user = users.find(u => u.email === mockFacebookUser.email);\r\n\r\n    if (!user) {\r\n      user = {\r\n        id: Date.now().toString(),\r\n        email: mockFacebookUser.email,\r\n        username: mockFacebookUser.name.split(' ')[0],\r\n        firstName: mockFacebookUser.name.split(' ')[0],\r\n        lastName: mockFacebookUser.name.split(' ')[1] || '',\r\n        password: Math.random().toString(36).substr(2, 9), // Random password\r\n        role: 'user',\r\n        profilePicture: null,\r\n        createdAt: new Date().toISOString(),\r\n        socialAuth: 'facebook'\r\n      };\r\n\r\n      users.push(user);\r\n      localStorage.setItem('users', JSON.stringify(users));\r\n    }\r\n\r\n    setSuccess(`Welcome back, ${user.firstName}!`);\r\n    return user;\r\n  } catch (error) {\r\n    setError('Facebook login failed. Please try again.');\r\n    console.error('Facebook login error:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const getSocialAuthToken = () => {\r\n  const token = localStorage.getItem('socialAuthToken');\r\n  return token ? JSON.parse(token) : null;\r\n};\r\n\r\nexport const clearSocialAuthToken = () => {\r\n  localStorage.removeItem('socialAuthToken');\r\n};\r\n\r\n// Production setup instructions for real OAuth:\r\n/*\r\nGOOGLE OAUTH SETUP:\r\n1. Install: npm install @react-oauth/google\r\n2. Get credentials from: https://console.cloud.google.com/\r\n3. Wrap app with GoogleOAuthProvider in main App component\r\n4. Use GoogleLogin component\r\n\r\nFACEBOOK OAUTH SETUP:\r\n1. Install: npm install react-facebook-login\r\n2. Get App ID from: https://developers.facebook.com/\r\n3. Add Facebook SDK to public/index.html\r\n4. Use FacebookLogin component\r\n\r\nExample production code:\r\nimport { GoogleLogin } from '@react-oauth/google';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\n// In component:\r\n<GoogleLogin\r\n  onSuccess={handleGoogleSuccess}\r\n  onError={handleGoogleError}\r\n/>\r\n\r\n<FacebookLogin\r\n  appId=\"YOUR_APP_ID\"\r\n  autoLoad={false}\r\n  fields=\"name,email,picture\"\r\n  onClick={handleFacebookClick}\r\n  callback={handleFacebookResponse}\r\n/>\r\n*/\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}