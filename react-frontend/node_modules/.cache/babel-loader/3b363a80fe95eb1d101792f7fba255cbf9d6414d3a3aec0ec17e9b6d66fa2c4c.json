{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Daniel Minto\\\\OneDrive\\\\Desktop\\\\Zoe's website 3.0\\\\react-frontend\\\\src\\\\context\\\\ChatbotContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useCallback } from 'react';\nimport { getAIChatbotResponse } from '../services/chatbotService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ChatbotContext = /*#__PURE__*/createContext();\nexport const ChatbotProvider = ({\n  children\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const addMessage = useCallback((message, sender) => {\n    setMessages(prev => [...prev, {\n      id: Date.now(),\n      text: message,\n      sender,\n      timestamp: new Date()\n    }]);\n  }, []);\n  const sendMessage = useCallback(async userMessage => {\n    var _JSON$parse;\n    if (!userMessage.trim()) return;\n\n    // Get user name from localStorage or use default\n    const userName = ((_JSON$parse = JSON.parse(localStorage.getItem('user'))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.firstName) || 'Friend';\n\n    // Add user message\n    addMessage(userMessage, 'user');\n    setIsLoading(true);\n    try {\n      // Get AI response\n      const response = await getAIChatbotResponse(userMessage, userName);\n\n      // Add a small delay for more natural feel\n      setTimeout(() => {\n        addMessage(response, 'bot');\n        setIsLoading(false);\n      }, 300);\n    } catch (error) {\n      console.error('Chatbot error:', error);\n      addMessage('Sorry, I encountered an error. Please try again or contact our support team.', 'bot');\n      setIsLoading(false);\n    }\n  }, [addMessage]);\n  const clearChat = useCallback(() => {\n    setMessages([]);\n  }, []);\n  const toggleChat = useCallback(() => {\n    setIsOpen(prev => !prev);\n    if (!isOpen && messages.length === 0) {\n      var _JSON$parse2;\n      const userName = ((_JSON$parse2 = JSON.parse(localStorage.getItem('user'))) === null || _JSON$parse2 === void 0 ? void 0 : _JSON$parse2.firstName) || 'Friend';\n      addMessage(`Hi ${userName}! ðŸ‘‹ Welcome to Zoe's Accessories. How can I help you today?`, 'bot');\n    }\n  }, [isOpen, messages.length, addMessage]);\n  return /*#__PURE__*/_jsxDEV(ChatbotContext.Provider, {\n    value: {\n      messages,\n      isOpen,\n      isLoading,\n      sendMessage,\n      clearChat,\n      toggleChat,\n      addMessage\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatbotProvider, \"itktTcYkN6pDIPzKEY+kY7T/Ee4=\");\n_c = ChatbotProvider;\nvar _c;\n$RefreshReg$(_c, \"ChatbotProvider\");","map":{"version":3,"names":["React","createContext","useState","useCallback","getAIChatbotResponse","jsxDEV","_jsxDEV","ChatbotContext","ChatbotProvider","children","_s","messages","setMessages","isOpen","setIsOpen","isLoading","setIsLoading","addMessage","message","sender","prev","id","Date","now","text","timestamp","sendMessage","userMessage","_JSON$parse","trim","userName","JSON","parse","localStorage","getItem","firstName","response","setTimeout","error","console","clearChat","toggleChat","length","_JSON$parse2","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Daniel Minto/OneDrive/Desktop/Zoe's website 3.0/react-frontend/src/context/ChatbotContext.js"],"sourcesContent":["import React, { createContext, useState, useCallback } from 'react';\r\nimport { getAIChatbotResponse } from '../services/chatbotService';\r\n\r\nexport const ChatbotContext = createContext();\r\n\r\nexport const ChatbotProvider = ({ children }) => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const addMessage = useCallback((message, sender) => {\r\n    setMessages(prev => [...prev, { id: Date.now(), text: message, sender, timestamp: new Date() }]);\r\n  }, []);\r\n\r\n  const sendMessage = useCallback(async (userMessage) => {\r\n    if (!userMessage.trim()) return;\r\n\r\n    // Get user name from localStorage or use default\r\n    const userName = JSON.parse(localStorage.getItem('user'))?.firstName || 'Friend';\r\n    \r\n    // Add user message\r\n    addMessage(userMessage, 'user');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // Get AI response\r\n      const response = await getAIChatbotResponse(userMessage, userName);\r\n      \r\n      // Add a small delay for more natural feel\r\n      setTimeout(() => {\r\n        addMessage(response, 'bot');\r\n        setIsLoading(false);\r\n      }, 300);\r\n    } catch (error) {\r\n      console.error('Chatbot error:', error);\r\n      addMessage('Sorry, I encountered an error. Please try again or contact our support team.', 'bot');\r\n      setIsLoading(false);\r\n    }\r\n  }, [addMessage]);\r\n\r\n  const clearChat = useCallback(() => {\r\n    setMessages([]);\r\n  }, []);\r\n\r\n  const toggleChat = useCallback(() => {\r\n    setIsOpen(prev => !prev);\r\n    if (!isOpen && messages.length === 0) {\r\n      const userName = JSON.parse(localStorage.getItem('user'))?.firstName || 'Friend';\r\n      addMessage(`Hi ${userName}! ðŸ‘‹ Welcome to Zoe's Accessories. How can I help you today?`, 'bot');\r\n    }\r\n  }, [isOpen, messages.length, addMessage]);\r\n\r\n  return (\r\n    <ChatbotContext.Provider value={{ messages, isOpen, isLoading, sendMessage, clearChat, toggleChat, addMessage }}>\r\n      {children}\r\n    </ChatbotContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}