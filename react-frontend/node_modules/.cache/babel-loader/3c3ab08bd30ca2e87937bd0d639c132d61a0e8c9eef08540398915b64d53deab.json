{"ast":null,"code":"import emailjs from '@emailjs/browser';\n\n// EmailJS Configuration\n// You'll need to replace these with your actual EmailJS credentials from https://dashboard.emailjs.com/\nconst EMAILJS_CONFIG = {\n  serviceId: 'service_vg7c2n7',\n  // Replace with your EmailJS Service ID\n  adminTemplateId: 'template_nx2dygb',\n  // Template for admin notification\n  customerTemplateId: 'template_7s2j9aj',\n  // Template for customer confirmation\n  publicKey: 'gqSQPbyZtgsfnegfH' // Replace with your EmailJS Public Key\n};\n\n// Initialize EmailJS\nemailjs.init(EMAILJS_CONFIG.publicKey);\n\n/**\r\n * Send order notification email to admin\r\n * @param {Object} orderData - Order details\r\n * @returns {Promise}\r\n */\nexport const sendAdminOrderNotification = async orderData => {\n  try {\n    const itemsList = orderData.items.map(item => item.name + ' (Qty: ' + item.quantity + ') - $' + (item.price * item.quantity).toFixed(2)).join(', ');\n    const templateParams = {\n      order_id: orderData.orderId || '',\n      customer_name: orderData.firstName + ' ' + orderData.lastName,\n      customer_email: orderData.email || '',\n      customer_phone: orderData.phone || '',\n      delivery_address: orderData.address + ', ' + orderData.city + ', ' + orderData.postalCode,\n      payment_method: orderData.paymentMethod === 'bank-transfer' ? 'Bank Transfer' : 'Cash on Delivery',\n      order_total: orderData.total.toFixed(2),\n      order_items: itemsList,\n      order_notes: orderData.notes || 'No special instructions',\n      order_date: new Date().toLocaleDateString()\n    };\n    const response = await emailjs.send(EMAILJS_CONFIG.serviceId, EMAILJS_CONFIG.adminTemplateId, templateParams);\n    console.log('Admin notification sent successfully:', response);\n    return {\n      success: true,\n      response\n    };\n  } catch (error) {\n    console.error('Failed to send admin notification:', error);\n    return {\n      success: false,\n      error\n    };\n  }\n};\n\n/**\r\n * Send order confirmation email to customer\r\n * @param {Object} orderData - Order details\r\n * @returns {Promise}\r\n */\nexport const sendCustomerOrderConfirmation = async orderData => {\n  try {\n    const itemsList = orderData.items.map(item => item.name + ' (Qty: ' + item.quantity + ') - $' + (item.price * item.quantity).toFixed(2)).join(', ');\n    const templateParams = {\n      customer_name: orderData.firstName || '',\n      order_id: orderData.orderId || '',\n      order_date: new Date().toLocaleDateString(),\n      order_items: itemsList,\n      subtotal: orderData.subtotal.toFixed(2),\n      shipping: 'FREE',\n      order_total: orderData.total.toFixed(2),\n      payment_method: orderData.paymentMethod === 'bank-transfer' ? 'Bank Transfer' : 'Cash on Delivery',\n      delivery_address: orderData.address + ', ' + orderData.city + ', ' + orderData.postalCode,\n      bank_name: 'JN Bank',\n      account_name: 'Mahalia Moore',\n      account_number: '2094834258',\n      branch: 'Spanish Town',\n      account_type: 'Savings',\n      order_notes: orderData.notes || 'None'\n    };\n    const response = await emailjs.send(EMAILJS_CONFIG.serviceId, EMAILJS_CONFIG.customerTemplateId, templateParams);\n    console.log('Customer confirmation sent successfully:', response);\n    return {\n      success: true,\n      response\n    };\n  } catch (error) {\n    console.error('Failed to send customer confirmation:', error);\n    return {\n      success: false,\n      error\n    };\n  }\n};\n\n/**\r\n * Send both admin notification and customer confirmation\r\n * @param {Object} orderData - Order details\r\n * @returns {Promise}\r\n */\nexport const sendOrderEmails = async orderData => {\n  try {\n    // Send both emails in parallel\n    const [adminResult, customerResult] = await Promise.all([sendAdminOrderNotification(orderData), sendCustomerOrderConfirmation(orderData)]);\n    return {\n      success: adminResult.success && customerResult.success,\n      adminResult,\n      customerResult\n    };\n  } catch (error) {\n    console.error('Failed to send order emails:', error);\n    return {\n      success: false,\n      error\n    };\n  }\n};","map":{"version":3,"names":["emailjs","EMAILJS_CONFIG","serviceId","adminTemplateId","customerTemplateId","publicKey","init","sendAdminOrderNotification","orderData","itemsList","items","map","item","name","quantity","price","toFixed","join","templateParams","order_id","orderId","customer_name","firstName","lastName","customer_email","email","customer_phone","phone","delivery_address","address","city","postalCode","payment_method","paymentMethod","order_total","total","order_items","order_notes","notes","order_date","Date","toLocaleDateString","response","send","console","log","success","error","sendCustomerOrderConfirmation","subtotal","shipping","bank_name","account_name","account_number","branch","account_type","sendOrderEmails","adminResult","customerResult","Promise","all"],"sources":["C:/Users/Daniel Minto/OneDrive/Desktop/Zoe's website 3.0/react-frontend/src/services/emailService.js"],"sourcesContent":["import emailjs from '@emailjs/browser';\r\n\r\n// EmailJS Configuration\r\n// You'll need to replace these with your actual EmailJS credentials from https://dashboard.emailjs.com/\r\nconst EMAILJS_CONFIG = {\r\n  serviceId: 'service_vg7c2n7',      // Replace with your EmailJS Service ID\r\n  adminTemplateId: 'template_nx2dygb',  // Template for admin notification\r\n  customerTemplateId: 'template_7s2j9aj', // Template for customer confirmation\r\n  publicKey: 'gqSQPbyZtgsfnegfH'       // Replace with your EmailJS Public Key\r\n};\r\n\r\n// Initialize EmailJS\r\nemailjs.init(EMAILJS_CONFIG.publicKey);\r\n\r\n/**\r\n * Send order notification email to admin\r\n * @param {Object} orderData - Order details\r\n * @returns {Promise}\r\n */\r\nexport const sendAdminOrderNotification = async (orderData) => {\r\n  try {\r\n    const itemsList = orderData.items.map(item => \r\n      item.name + ' (Qty: ' + item.quantity + ') - $' + (item.price * item.quantity).toFixed(2)\r\n    ).join(', ');\r\n\r\n    const templateParams = {\r\n      order_id: orderData.orderId || '',\r\n      customer_name: orderData.firstName + ' ' + orderData.lastName,\r\n      customer_email: orderData.email || '',\r\n      customer_phone: orderData.phone || '',\r\n      delivery_address: orderData.address + ', ' + orderData.city + ', ' + orderData.postalCode,\r\n      payment_method: orderData.paymentMethod === 'bank-transfer' ? 'Bank Transfer' : 'Cash on Delivery',\r\n      order_total: orderData.total.toFixed(2),\r\n      order_items: itemsList,\r\n      order_notes: orderData.notes || 'No special instructions',\r\n      order_date: new Date().toLocaleDateString()\r\n    };\r\n\r\n    const response = await emailjs.send(\r\n      EMAILJS_CONFIG.serviceId,\r\n      EMAILJS_CONFIG.adminTemplateId,\r\n      templateParams\r\n    );\r\n\r\n    console.log('Admin notification sent successfully:', response);\r\n    return { success: true, response };\r\n  } catch (error) {\r\n    console.error('Failed to send admin notification:', error);\r\n    return { success: false, error };\r\n  }\r\n};\r\n\r\n/**\r\n * Send order confirmation email to customer\r\n * @param {Object} orderData - Order details\r\n * @returns {Promise}\r\n */\r\nexport const sendCustomerOrderConfirmation = async (orderData) => {\r\n  try {\r\n    const itemsList = orderData.items.map(item => \r\n      item.name + ' (Qty: ' + item.quantity + ') - $' + (item.price * item.quantity).toFixed(2)\r\n    ).join(', ');\r\n\r\n    const templateParams = {\r\n      customer_name: orderData.firstName || '',\r\n      order_id: orderData.orderId || '',\r\n      order_date: new Date().toLocaleDateString(),\r\n      order_items: itemsList,\r\n      subtotal: orderData.subtotal.toFixed(2),\r\n      shipping: 'FREE',\r\n      order_total: orderData.total.toFixed(2),\r\n      payment_method: orderData.paymentMethod === 'bank-transfer' ? 'Bank Transfer' : 'Cash on Delivery',\r\n      delivery_address: orderData.address + ', ' + orderData.city + ', ' + orderData.postalCode,\r\n      bank_name: 'JN Bank',\r\n      account_name: 'Mahalia Moore',\r\n      account_number: '2094834258',\r\n      branch: 'Spanish Town',\r\n      account_type: 'Savings',\r\n      order_notes: orderData.notes || 'None'\r\n    };\r\n\r\n    const response = await emailjs.send(\r\n      EMAILJS_CONFIG.serviceId,\r\n      EMAILJS_CONFIG.customerTemplateId,\r\n      templateParams\r\n    );\r\n\r\n    console.log('Customer confirmation sent successfully:', response);\r\n    return { success: true, response };\r\n  } catch (error) {\r\n    console.error('Failed to send customer confirmation:', error);\r\n    return { success: false, error };\r\n  }\r\n};\r\n\r\n/**\r\n * Send both admin notification and customer confirmation\r\n * @param {Object} orderData - Order details\r\n * @returns {Promise}\r\n */\r\nexport const sendOrderEmails = async (orderData) => {\r\n  try {\r\n    // Send both emails in parallel\r\n    const [adminResult, customerResult] = await Promise.all([\r\n      sendAdminOrderNotification(orderData),\r\n      sendCustomerOrderConfirmation(orderData)\r\n    ]);\r\n\r\n    return {\r\n      success: adminResult.success && customerResult.success,\r\n      adminResult,\r\n      customerResult\r\n    };\r\n  } catch (error) {\r\n    console.error('Failed to send order emails:', error);\r\n    return { success: false, error };\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}